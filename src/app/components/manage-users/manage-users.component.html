<h2>Manage Users </h2>
<h4>Choose what you would like to do</h4>
<br>
<a mat-stroked-button color="warn" routerLink="/admin/add-user/">Add user</a>

<br><br>
<mat-spinner color="warn" *ngIf="!allUsers && ok"></mat-spinner>

<mat-form-field>
    <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Search">
</mat-form-field>
<div class="mat-elevation-z8">
    <table mat-table [dataSource]="dataSource" matSort>

        <!-- Full Name Column -->
        <ng-container matColumnDef="fullName">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Full Name </th>
            <td mat-cell *matCellDef="let row"> {{row.fName}} {{row.lName}}</td>
        </ng-container>

        <!-- ID Number Column -->
        <ng-container matColumnDef="id">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> ID Number </th>
            <td mat-cell *matCellDef="let row"> {{row.id}}</td>
        </ng-container>

        <!-- Birthdate -->
        <ng-container matColumnDef="birthdate">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Birthdate </th>
            <td mat-cell *matCellDef="let row"> {{row.bDate | date:'dd/MM/yyyy'}}</td>
        </ng-container>

        <!-- User Name Column -->
        <ng-container matColumnDef="userName">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> User Name</th>
            <td mat-cell *matCellDef="let row"> {{row.uName}}</td>
        </ng-container>

        <!-- Gender Column -->
        <ng-container matColumnDef="gender">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Gender </th>
            <td mat-cell *matCellDef="let row"> {{row.userGender}}</td>
        </ng-container>

        <!-- Email Column -->
        <ng-container matColumnDef="email">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Email </th>
            <td mat-cell *matCellDef="let row"> {{(row.userEmail)}}</td>
        </ng-container>

        <!-- Role Column -->
        <ng-container matColumnDef="role">
            <th class="th-2" mat-header-cell *matHeaderCellDef mat-sort-header> Role </th>
            <td class="td-2" mat-cell *matCellDef="let row"> {{(row.userRole)}}</td>
        </ng-container>

        <!-- Update Column -->
        <ng-container matColumnDef="update">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Update</th>
            <td mat-cell *matCellDef="let row"> <a mat-stroked-button color="warn"
                    routerLink="/admin/update-user/{{row.id}}">Update</a></td>
        </ng-container>

        <!-- Delete Column -->
        <ng-container matColumnDef="delete">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Delete</th>
            <td mat-cell *matCellDef="let row" class="button-td"> <button mat-stroked-button color="warn"
                    (click)="deleteUser(row.uId, row.fName, row.lName)">Delete</button></td>
        </ng-container>

        <!-- Fill the rows with data -->
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
    <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]"></mat-paginator>
</div>