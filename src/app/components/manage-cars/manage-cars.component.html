<h2>Manage Cars </h2>
<h4>Choose what you would like to do</h4>
<br>
<mat-spinner color="warn" *ngIf="!allCars && ok"></mat-spinner>

<mat-form-field>
    <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Search">
</mat-form-field>
<div class="mat-elevation-z8">
    <table mat-table [dataSource]="dataSource" matSort>

        <!-- Brand Column -->
        <ng-container matColumnDef="brand">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Brand </th>
            <td mat-cell *matCellDef="let row"> {{row.manufacturer}} {{row.model}}</td>
        </ng-container>

        <!-- Plate Number Column -->
        <ng-container matColumnDef="plateNumber">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Plate Number </th>
            <td mat-cell *matCellDef="let row"> {{row.plateNumber}}</td>
        </ng-container>

        <!-- Car Type Column -->
        <ng-container matColumnDef="carType">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Car Type </th>
            <td mat-cell *matCellDef="let row"> {{row.carType}}</td>
        </ng-container>

        <!-- Mileage Column -->
        <ng-container matColumnDef="mileage">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Current Mileage </th>
            <td mat-cell *matCellDef="let row"> {{row.mileage}}</td>
        </ng-container>

        <!-- Image Column -->
        <ng-container matColumnDef="image">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Image </th>
            <td mat-cell *matCellDef="let row"> <img src="http://localhost:49934//Uploads/{{row.image}}" width="80px">
            </td>
        </ng-container>

        <!-- Branch Name Column -->
        <ng-container matColumnDef="branchName">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Branch Name </th>
            <td mat-cell *matCellDef="let row"> {{row.branchName}}</td>
        </ng-container>

        <!-- Rentable Column -->
        <ng-container matColumnDef="isRentable">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Is Rentable? </th>
            <td mat-cell *matCellDef="let row"> {{Rentable(row.isRentable)}}</td>
        </ng-container>

        <!-- Update Column -->
        <ng-container matColumnDef="update">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> </th>
            <td mat-cell *matCellDef="let row"> <a mat-stroked-button color="warn"
                    routerLink="/admin/update-car/{{row.carID}}">Update</a></td>
        </ng-container>

        <!-- Delete Column -->
        <ng-container matColumnDef="delete">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> </th>
            <td mat-cell *matCellDef="let row" class="button-td"> <button mat-stroked-button color="warn"
                    (click)="deleteCar(row.carID, row.plateNumber)">Delete</button></td>
        </ng-container>

        <!-- Fill the rows with data -->
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
    <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]"></mat-paginator>
</div>